document.addEventListener('DOMContentLoaded',async()=>{const a=(b)=>{const c=[...document.getElementsByTagName('script')].find(d=>d.src.includes(b));return c?c.src.split('/').slice(0,-1).join('/'):'';};const e=async(f)=>{const g=await fetch(f);if(!g.ok){throw new Error(`Network response was not ok: ${g.statusText}`);}return g.json();};const h=(i,j)=>{Object.entries(i).forEach(([k,l])=>{if(l&&typeof l==='object'){const{path:m,bimt:n,bims:o}=l;p(k,n,o,m,j);}});};const q=i=>i&&typeof i==='object';const p=(r,s,t,u,v)=>{const w=document.querySelectorAll(`span.${r},i.${r}`);w.forEach(x=>{const y=x.textContent.trim();const z=s.indexOf(y);if(z!==-1){const A=t[z];const B=C(x.classList);const D=`${v}${u}${A}.png`;x.innerHTML=E(D,y,B);}});};const C=a=>{const F=new Map([['bim','middle'],['bim-t','top'],['bim-b','baseline'],['bim-m','bottom'],['bim-s','sub']]);return[...a].find(G=>F.has(G))?F.get(G):'';};const E=(H,I,J)=>`<img src="${H}" alt="${I}" style="max-width:1.2em;height:auto;vertical-align:${J};"/>`;const K=`${a('bim2.js')}/em/bim2.json`;try{const L=await e(K);h(L,a('bim2.js'));}catch(M){console.error('Error loading emoticon data:',M);}});
